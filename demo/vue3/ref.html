<!DOCTYPE html>
<html>

<head>
  <title>title</title>
  <meta charset="utf-8">
  <meta name="renderer" content="webkit|ie-comp|ie-stand" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="format-detection" content="email=no" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
</head>
<!-- <script src="https://cdn.jsdelivr.net/npm/vue@3.2.22/dist/vue.global.js"></script> -->
<script src="./lib/vue.global.js"></script>

<body>
  <div id="app">
    <p @click="onUsernameInput">onUsernameInput</p>
    <p @click="onPasswordInput">onPasswordInput</p>
    {{formState.usernameCount}}
    {{formState.passwordCount}}
  </div>
</body>
<script>
  const {ref, watch, onMounted, watchEffect, reactive} = Vue
  var App = {

    setup() {
      const formState = ref({
        username: '',
        password: '',
        usernameCount: 0,
        passwordCount: 0,
      })

      function onUsernameInput(event) {
        formState.value.username = event.target.value
        formState.value.usernameCount += 1
        // 手动触发视图更新
        // nextTick(() => {
        //   console.log('用户名输入次数：', formState.value.usernameCount)
        // })
      }

      function onPasswordInput(event) {
        formState.value.password = event.target.value
        formState.value.passwordCount += 1
        // 手动触发视图更新
        // nextTick(() => {
        //   console.log('密码输入次数：', formState.value.passwordCount)
        // })
      }

      return {
        formState,
        onUsernameInput,
        onPasswordInput,
      }
    }

  }
  var vm = Vue.createApp(App).mount("#app");
</script>

</html>